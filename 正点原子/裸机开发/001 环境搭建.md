# 环境搭建

## 开启ssh服务
```bash
# 安装ssh
sudo apt install openssh-server

# 开启ssh服务
sudo systemctl enable ssh
```

## 开启nfs服务
```bash
# 安装nfs
sudo apt install nfs-kernel-server

# 创建共享目录
mkdir ~/My_Linux/nfs
chmod 777 ~/My_Linux/nfs

# 编辑配置文件
sudo vi /etc/exports # /home/tan/My_Linux/nfs *(rw,sync,no_root_squash)

# 重启nfs服务
sudo /etc/init.d/nfs-kernel-server restart

# 查看共享目录
showmount -e

```

## 搭建tftp服务
```bash
# 安装xinetd
sudo apt install xinetd

# 查询/etc/下是否存在xinetd.conf
ls /etc/xinetd.conf

# 如果不存在则创建
sudo vi /etc/xinetd.conf

# xinetd.conf是以下内容
# Simple configuration file for xinetd
#
# Some defaults, and include /etc/xinetd.d/
defaults
{

# Please note that you need a log_type line to be able to use log_on_success
# and log_on_failure. The default is the following :
# log_type = SYSLOG daemon info

}

includedir /etc/xinetd.d

# 创建tftp文件夹, 给最高权限 

# 安装 tftp-hpa 和 tftpd-hpa 服务程序
sudo apt install tftp-hpa tftpd-hpa

# 修改工作目录
sudo vi /etc/default/tftpd-hpa
TFTP_DIRECTORY="/home/tan/My_Linux/tftp"

sudo vi /etc/xinetd.d/tftp

servicetftp
{
    socket_type = dgram
    wait = yes
    disable = no
    user = root
    protocol = udp
    server = /usr/sbin/in.tftpd
    server_args = -s /home/tan/My_Linux/tftp -c
    #log_on_success += PID HOST DURATION
    #log_on_failure += HOST
    per_source = 11
    cps =100 2
    flags =IPv4
}

# 重启 tftpd-hpa
sudo service tftpd-hpa restart

# 重启 xinetd 服务
sudo service xinetd restart

```

## 安装交叉编译工具链
```bash
# 下载地址
https://releases.linaro.org/components/toolchain/binaries/4.9-2017.01/arm-linux-gnueabihf/

# 创建/usr/local/arm
cd /usr/local
sudo mkdir arm

# 解压到/usr/local/arm
cd ~/Tools
sudo tar -xJf gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf.tar.xz -C /usr/local/arm/

# 配置当前用户的环境变量
vi ~/.bashrc
export PATH=/usr/local/arm/gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf/bin:$PATH

# 重启
reboot # 如果echo $PATH没有看到/usr/local/arm/gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf/bin

# 验证
arm-linux-gnueabihf-gcc -v
```
