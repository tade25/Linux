# 并发与竞争

## 一、并发与竞争

## 二、解决并发与竞争

### 2.1 原子操作

### 2.2 自旋锁
- 线程A在访问共享变量时，线程B一直在自旋(等待)，所以自旋锁的持有时间不能太久，自旋锁适用于轻量级加锁
- 用于SMP
- 被自旋锁保护的临界区一定不能调用任何能够引起睡眠和阻塞的API函数，否则会发生死锁

```c
// 定义自旋锁
spinlock_t lock;

// 自旋锁API

```

### 2.3 信号量

### 2.4 互斥体
